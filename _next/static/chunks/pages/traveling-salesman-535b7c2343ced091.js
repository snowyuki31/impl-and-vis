(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[439],{8642:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/traveling-salesman",function(){return c(7193)}])},1734:function(a,b,c){"use strict";var d=c(1799),e=c(9396),f=c(828),g=c(5893),h=c(2280),i=c(8895),j=c(3508),k=c(2797),l=c(3454),m=c(5468),n=c(6447),o=function(a,b,c){var o=(0,f.Z)(a.useGenerator,2),p=o[0],q=o[1],r=(0,f.Z)(a.useSolver,2),s=r[0],t=r[1],u=(0,f.Z)(a.useInfo,2),v=(u[0],u[1]);return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(h.Z,{sx:{m:1,bgcolor:"inherit"},children:[(0,g.jsx)(i.Z,{expandIcon:(0,g.jsx)(j.Z,{}),children:(0,g.jsx)(m.Z,{type:"number",label:"seed",variant:"standard",size:"small",value:p.seed,onChange:function(a){q((0,e.Z)((0,d.Z)({},p),{seed:Number(a.target.value)})),t((0,e.Z)((0,d.Z)({},s),{solver:"None"})),v(b)}})}),(0,g.jsx)(k.Z,{children:(0,g.jsx)(n.Z,{direction:"column",children:(0,g.jsx)(l.Z,{color:"primary",exclusive:!0,value:p.size,onChange:function(a,c){null!==c&&(q((0,e.Z)((0,d.Z)({},p),{size:c})),t((0,e.Z)((0,d.Z)({},s),{solver:"None"})),v(b))},size:"small",orientation:"vertical",children:c})})})]})})};b.Z=o},2532:function(a,b,c){"use strict";var d=c(1799),e=c(9396),f=c(828),g=c(5893),h=c(3454),i=function(a,b,c,i){var j=(0,f.Z)(a.useSolver,2),k=j[0],l=j[1],m=(0,f.Z)(a.useInfo,2),n=(m[0],m[1]);return(0,g.jsx)(h.Z,{color:"primary",value:k.solver,exclusive:!0,onChange:function(a,c){null!==c&&(l((0,e.Z)((0,d.Z)({},k),{solver:c})),n(b))},size:"medium",orientation:i,children:c})};b.Z=i},93:function(a,b,c){"use strict";var d=c(5893),e=c(6092),f=c(7357),g=c(3156),h=c(6886);c(7294);var i=function(a){var b=a.pagename,c=(a.description,a.field),f=a.infoArea,i=a.generator,m=a.solver;return(0,d.jsxs)(e.Z,{pagename:b,children:[(0,d.jsx)("h1",{children:b}),(0,d.jsx)(j,{field:c,infoArea:f}),(0,d.jsx)(g.Z,{children:(0,d.jsxs)(h.ZP,{container:!0,justifyContent:"center",columnSpacing:1,children:[(0,d.jsx)(h.ZP,{xs:8,sm:4,item:!0,children:(0,d.jsx)(k,{children:i})}),(0,d.jsx)(h.ZP,{xs:8,sm:4,item:!0,children:(0,d.jsx)(l,{children:m})})]})})]})};b.Z=i;var j=function(a){var b=a.field,c=a.infoArea;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f.Z,{sx:{width:{xs:"60vw",sm:"50vw",md:"40vw",lg:"400px"}},children:b}),(0,d.jsx)(f.Z,{sx:{pt:1,width:{xs:"90vw",sm:"80vw",md:"50vw",lg:"600px"}},style:{textAlign:"center"},children:c})]})},k=function(a){var b=a.children;return(0,d.jsxs)(f.Z,{sx:{bgcolor:"inherit"},children:[(0,d.jsx)("h3",{style:{textAlign:"center"},children:"Generator"}),b]})},l=function(a){var b=a.children;return(0,d.jsxs)(f.Z,{children:[(0,d.jsx)("h3",{style:{textAlign:"center"},children:"Solver"}),(0,d.jsx)(f.Z,{style:{textAlign:"center"},children:b})]})}},7193:function(a,b,c){"use strict";c.r(b),c.d(b,{Field:function(){return ac},Generator:function(){return ae},InfoArea:function(){return ad},Solver:function(){return af},default:function(){return ab}});var d,e=c(1799),f=c(9396),g=c(828),h=c(5893),i=c(7294),j=c(93),k=c(7357),l=c(3366),m=c(7462),n=c(6010),o=c(4780),p=c(917),q=c(1796),r=c(8216),s=c(2734),t=c(948),u=c(1657),v=c(4867),w=c(1588);function x(a){return(0,v.Z)("MuiLinearProgress",a)}(0,w.Z)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);let y=["className","color","value","valueBuffer","variant"],z=a=>a,A,B,C,D,E,F,G=(0,p.F4)(A||(A=z`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),H=(0,p.F4)(B||(B=z`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),I=(0,p.F4)(C||(C=z`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),J=a=>{let{classes:b,variant:c,color:d}=a,e={root:["root",`color${(0,r.Z)(d)}`,c],dashed:["dashed",`dashedColor${(0,r.Z)(d)}`],bar1:["bar",`barColor${(0,r.Z)(d)}`,("indeterminate"===c||"query"===c)&&"bar1Indeterminate","determinate"===c&&"bar1Determinate","buffer"===c&&"bar1Buffer"],bar2:["bar","buffer"!==c&&`barColor${(0,r.Z)(d)}`,"buffer"===c&&`color${(0,r.Z)(d)}`,("indeterminate"===c||"query"===c)&&"bar2Indeterminate","buffer"===c&&"bar2Buffer"]};return(0,o.Z)(e,x,b)},K=(a,b)=>"inherit"===b?"currentColor":a.vars?a.vars.palette.LinearProgress[`${b}Bg`]:"light"===a.palette.mode?(0,q.$n)(a.palette[b].main,.62):(0,q._j)(a.palette[b].main,.5),L=(0,t.ZP)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,b[`color${(0,r.Z)(c.color)}`],b[c.variant]]}})(({ownerState:a,theme:b})=>(0,m.Z)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:K(b,a.color)},"inherit"===a.color&&"buffer"!==a.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===a.variant&&{backgroundColor:"transparent"},"query"===a.variant&&{transform:"rotate(180deg)"})),M=(0,t.ZP)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.dashed,b[`dashedColor${(0,r.Z)(c.color)}`]]}})(({ownerState:a,theme:b})=>{let c=K(b,a.color);return(0,m.Z)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===a.color&&{opacity:.3},{backgroundImage:`radial-gradient(${c} 0%, ${c} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},(0,p.iv)(D||(D=z`
    animation: ${0} 3s infinite linear;
  `),I)),N=(0,t.ZP)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.bar,b[`barColor${(0,r.Z)(c.color)}`],("indeterminate"===c.variant||"query"===c.variant)&&b.bar1Indeterminate,"determinate"===c.variant&&b.bar1Determinate,"buffer"===c.variant&&b.bar1Buffer]}})(({ownerState:a,theme:b})=>(0,m.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===a.color?"currentColor":(b.vars||b).palette[a.color].main},"determinate"===a.variant&&{transition:"transform .4s linear"},"buffer"===a.variant&&{zIndex:1,transition:"transform .4s linear"}),({ownerState:a})=>("indeterminate"===a.variant||"query"===a.variant)&&(0,p.iv)(E||(E=z`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),G)),O=(0,t.ZP)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.bar,b[`barColor${(0,r.Z)(c.color)}`],("indeterminate"===c.variant||"query"===c.variant)&&b.bar2Indeterminate,"buffer"===c.variant&&b.bar2Buffer]}})(({ownerState:a,theme:b})=>(0,m.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==a.variant&&{backgroundColor:"inherit"===a.color?"currentColor":(b.vars||b).palette[a.color].main},"inherit"===a.color&&{opacity:.3},"buffer"===a.variant&&{backgroundColor:K(b,a.color),transition:"transform .4s linear"}),({ownerState:a})=>("indeterminate"===a.variant||"query"===a.variant)&&(0,p.iv)(F||(F=z`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),H)),P=i.forwardRef(function(a,b){let c=(0,u.Z)({props:a,name:"MuiLinearProgress"}),{className:d,color:e="primary",value:f,valueBuffer:g,variant:i="indeterminate"}=c,j=(0,l.Z)(c,y),k=(0,m.Z)({},c,{color:e,variant:i}),o=J(k),p=(0,s.Z)(),q={},r={bar1:{},bar2:{}};if(("determinate"===i||"buffer"===i)&& void 0!==f){q["aria-valuenow"]=Math.round(f),q["aria-valuemin"]=0,q["aria-valuemax"]=100;let t=f-100;"rtl"===p.direction&&(t=-t),r.bar1.transform=`translateX(${t}%)`}if("buffer"===i&& void 0!==g){let v=(g||0)-100;"rtl"===p.direction&&(v=-v),r.bar2.transform=`translateX(${v}%)`}return(0,h.jsxs)(L,(0,m.Z)({className:(0,n.Z)(o.root,d),ownerState:k,role:"progressbar"},q,{ref:b},j,{children:["buffer"===i?(0,h.jsx)(M,{className:o.dashed,ownerState:k}):null,(0,h.jsx)(N,{className:o.bar1,ownerState:k,style:r.bar1}),"determinate"===i?null:(0,h.jsx)(O,{className:o.bar2,ownerState:k,style:r.bar2})]}))});var Q=P,R=c(3109),S=c(6343),T=c(6779),U=c.n(T);function V(a){var b=a%2e3;return[(a-b)/2e3,b]}var W,X=function(a,b,c){(0,i.useEffect)(function(){var d=a.current,e=b.current;d&&e&&c({bgContext:d.getContext("2d"),resultContext:e.getContext("2d")})},[])},Y=function(a,b,c){(0,i.useEffect)(function(){null!==a&&null!==a.bgContext&&c&&(console.log("len:",c.get_nodes().length),a.bgContext.clearRect(0,0,2e3,2e3),c.get_nodes().forEach(function(c){var d=(0,g.Z)(V(c),2),e=d[0],f=d[1];null!==a.bgContext&&(b.size<=300?(a.bgContext.strokeStyle="rgba(255, 255, 255, 0.4)",a.bgContext.lineWidth=12,a.bgContext.beginPath(),a.bgContext.arc(e,f,40,0,360,!1),a.bgContext.stroke()):(a.bgContext.strokeStyle="rgba(255, 255, 255, 0.4)",a.bgContext.lineWidth=7,a.bgContext.beginPath(),a.bgContext.arc(e,f,25,0,360,!1),a.bgContext.stroke()))}),a.bgContext.save())},[c])},Z=function(a){var b=a.hooks,c=(0,g.Z)(b.useGenerator,2),d=c[0];c[1];var j=(0,g.Z)(b.useSolver,2),l=j[0];j[1];var m=(0,g.Z)(b.useInfo,2),n=m[0],o=m[1],p=(0,i.useState)(),q=p[0],r=p[1],s=(0,i.useState)(),t=s[0],u=s[1],v=(0,i.useState)(),w=v[0],x=v[1],y=(0,i.useState)(0),z=y[0],A=y[1],B=(0,i.useState)(0),C=B[0],D=B[1],E=(0,i.useState)({bgContext:null,resultContext:null}),F=E[0],G=E[1],H=(0,i.useRef)(null),I=(0,i.useRef)(null);return X(H,I,G),(0,i.useEffect)(function(){var a;u(null),x(null),D(0),A(0),null===(a=F.resultContext)|| void 0===a||a.clearRect(0,0,2e3,2e3),(0,R.ZP)().then(function(){var a=R.kJ.new(d.size,d.seed,2e3);a.build(),r(a)})},[d,l]),Y(F,d,q),(0,i.useEffect)(function(){if(q&&"None"!=l.solver){var a=performance.now();if("brute-force"===l.solver)console.log("brute force running!"),u(q.solve_bf()),x(q.get_costs());else if("bitDP"===l.solver)console.log("bitDP running!"),u(q.solve_dp()),x(q.get_costs());else if("nn"===l.solver)console.log("nearest negibors running!"),u(q.solve_nn()),x(q.get_costs());else if("nn-2opt"===l.solver){console.log("nearest negibors + 2 opt running!");var b=q.two_opt();u(b),x(q.get_costs()),console.log(b.length)}var c=performance.now();o((0,f.Z)((0,e.Z)({},n),{status:"Calculation completed in "+(c-a).toFixed(2)+" ms"}))}},[l]),(0,S.Z)(function(){if(t&&w&&F.resultContext){if(z<t.length){var a=w[z/d.size];o((0,f.Z)((0,e.Z)({},n),{minCost:a,optimal:null})),D(100*z/t.length),F.resultContext.clearRect(0,0,2e3,2e3),F.resultContext.strokeStyle="#C84B31",F.resultContext.lineWidth=12,F.resultContext.beginPath();for(var b=z;b<z+d.size;b++){var c,h,i=(0,g.Z)(V(t[b]),2),j=i[0],k=i[1],m=0,p=0;b+1==z+d.size?(m=(c=(0,g.Z)(V(t[z]),2))[0],p=c[1]):(m=(h=(0,g.Z)(V(t[b+1]),2))[0],p=h[1]),F.resultContext.moveTo(j,k),F.resultContext.lineTo(m,p)}F.resultContext.stroke(),A(z+d.size)}else z==t.length&&(D(100),"bitDP"===l.solver||"brute-force"===l.solver?o((0,f.Z)((0,e.Z)({},n),{optimal:"optimal"})):o((0,f.Z)((0,e.Z)({},n),{optimal:"heuristic"})))}},100),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(k.Z,{sx:{height:{xs:"60vw",sm:"50vw",md:"40vw",lg:"400px"}},children:(0,h.jsxs)("div",{className:U().canvas_wrap,children:[(0,h.jsx)("canvas",{ref:H,width:2e3,height:2e3,className:U().canvas}),(0,h.jsx)("canvas",{ref:I,width:2e3,height:2e3,className:U().canvas})]})}),(0,h.jsx)(Q,{variant:"determinate",color:"inherit",value:C})]})},$=c(2532),_=c(6420),aa=c(1734);(W=d||(d={}))[W.numPlotsSmall=10]="numPlotsSmall",W[W.numPlotsMedium=17]="numPlotsMedium",W[W.numPlotsLarge=100]="numPlotsLarge",W[W.numPlotsExtreme=500]="numPlotsExtreme";var ab=function(){var a={useGenerator:(0,i.useState)({seed:Math.floor(100*Math.random()),size:10}),useSolver:(0,i.useState)({solver:"None"}),useInfo:(0,i.useState)({minCost:2e9,calculationTime:-1,status:"",optimal:null})};return(0,h.jsx)(j.Z,{pagename:"Traveling Salesman",field:ac(a),infoArea:ad(a),generator:ae(a),solver:af(a)})},ac=function(a){return(0,h.jsx)(Z,{hooks:a})},ad=function(a){var b=(0,g.Z)(a.useGenerator,2),c=b[0];b[1];var d=(0,g.Z)(a.useInfo,2),e=d[0];return d[1],(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{children:["n=",c.size]}),(0,h.jsx)("div",{children:e.status}),(0,h.jsxs)("div",{children:["Minimum Cost:"," ",2e9!==e.minCost?e.minCost.toFixed(2):"inf",null===e.optimal?"":" ("+e.optimal+")"]}),(0,h.jsx)("div",{style:{color:"#C84B31"},children:c.size>300&&null===e.status?"Calculation may take a while.":""})]})},ae=function(a){var b=(0,g.Z)(a.useInfo,2),c=b[0];b[1];var d=(0,f.Z)((0,e.Z)({},c),{minCost:2e9,status:null,optimal:null}),i=[(0,h.jsx)(_.Z,{value:10,children:"Small"},"small"),(0,h.jsx)(_.Z,{value:17,children:"Medium"},"medium"),(0,h.jsx)(_.Z,{value:100,children:"Large"},"large"),(0,h.jsx)(_.Z,{value:500,children:"Extreme"},"extreme"),];return(0,aa.Z)(a,d,i)},af=function(a){var b=(0,g.Z)(a.useGenerator,2),c=b[0];b[1];var d=(0,g.Z)(a.useInfo,2),e=d[0];d[1];var f=[(0,h.jsx)(_.Z,{value:"brute-force",disabled:c.size>12,children:"Brute Force"},"brute-force"),(0,h.jsx)(_.Z,{value:"bitDP",disabled:c.size>20,children:"Held-Karp"},"bitDP"),(0,h.jsx)(_.Z,{value:"nn",children:"Nearest Neighbor"},"nn"),(0,h.jsx)(_.Z,{value:"nn-2opt",children:"NN + 2-opt"},"nn-2opt"),];return(0,$.Z)(a,e,f,"vertical")}},6343:function(a,b,c){"use strict";var d=c(7294),e=function(a,b){var c=(0,d.useRef)(a);(0,d.useEffect)(function(){c.current=a},[a]),(0,d.useEffect)(function(){var a=setInterval(function(){c.current()},b);return function(){clearInterval(a)}})};b.Z=e},6779:function(a){a.exports={canvas_wrap:"style_canvas_wrap__vJMv7",canvas:"style_canvas__4EBFe"}}},function(a){a.O(0,[775,129,19,774,888,179],function(){var b;return a(a.s=8642)}),_N_E=a.O()}])