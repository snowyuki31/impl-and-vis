(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[439],{8642:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/traveling-salesman",function(){return c(7193)}])},93:function(a,b,c){"use strict";var d=c(5893),e=c(6092),f=c(7357),g=c(3156),h=c(6886);c(7294);var i=function(a){var b=a.pagename,c=a.field,f=a.resultArea,i=a.generator,m=a.solver;return(0,d.jsxs)(e.Z,{pagename:b,children:[(0,d.jsx)("h1",{children:b}),(0,d.jsx)(j,{field:c,resultArea:f}),(0,d.jsx)(g.Z,{children:(0,d.jsxs)(h.ZP,{container:!0,justifyContent:"center",columnSpacing:1,children:[(0,d.jsx)(h.ZP,{xs:8,sm:4,item:!0,children:(0,d.jsx)(k,{children:i})}),(0,d.jsx)(h.ZP,{xs:8,sm:4,item:!0,children:(0,d.jsx)(l,{children:m})})]})})]})};b.Z=i;var j=function(a){var b=a.field,c=a.resultArea;return(0,d.jsxs)(f.Z,{sx:{width:{xs:"60vw",sm:"50vw",md:"40vw",lg:"400px"}},children:[b,(0,d.jsx)(f.Z,{sx:{pt:1},style:{textAlign:"center"},children:c})]})},k=function(a){var b=a.children;return(0,d.jsxs)(f.Z,{children:[(0,d.jsx)("h3",{style:{textAlign:"center"},children:"Generator"}),b]})},l=function(a){var b=a.children;return(0,d.jsxs)(f.Z,{children:[(0,d.jsx)("h3",{style:{textAlign:"center"},children:"Solver"}),(0,d.jsx)(f.Z,{style:{textAlign:"center"},children:b})]})}},7193:function(a,b,c){"use strict";c.r(b),c.d(b,{Field:function(){return ag},Generator:function(){return ai},ResultArea:function(){return ah},Solver:function(){return aj},default:function(){return af}});var d,e=c(1799),f=c(9396),g=c(828),h=c(5893),i=c(7294),j=c(93),k=c(7357),l=c(3366),m=c(7462),n=c(6010),o=c(4780),p=c(917),q=c(1796),r=c(8216),s=c(2734),t=c(948),u=c(1657),v=c(4867),w=c(1588);function x(a){return(0,v.Z)("MuiLinearProgress",a)}(0,w.Z)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);let y=["className","color","value","valueBuffer","variant"],z=a=>a,A,B,C,D,E,F,G=(0,p.F4)(A||(A=z`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),H=(0,p.F4)(B||(B=z`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),I=(0,p.F4)(C||(C=z`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),J=a=>{let{classes:b,variant:c,color:d}=a,e={root:["root",`color${(0,r.Z)(d)}`,c],dashed:["dashed",`dashedColor${(0,r.Z)(d)}`],bar1:["bar",`barColor${(0,r.Z)(d)}`,("indeterminate"===c||"query"===c)&&"bar1Indeterminate","determinate"===c&&"bar1Determinate","buffer"===c&&"bar1Buffer"],bar2:["bar","buffer"!==c&&`barColor${(0,r.Z)(d)}`,"buffer"===c&&`color${(0,r.Z)(d)}`,("indeterminate"===c||"query"===c)&&"bar2Indeterminate","buffer"===c&&"bar2Buffer"]};return(0,o.Z)(e,x,b)},K=(a,b)=>"inherit"===b?"currentColor":a.vars?a.vars.palette.LinearProgress[`${b}Bg`]:"light"===a.palette.mode?(0,q.$n)(a.palette[b].main,.62):(0,q._j)(a.palette[b].main,.5),L=(0,t.ZP)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,b[`color${(0,r.Z)(c.color)}`],b[c.variant]]}})(({ownerState:a,theme:b})=>(0,m.Z)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:K(b,a.color)},"inherit"===a.color&&"buffer"!==a.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===a.variant&&{backgroundColor:"transparent"},"query"===a.variant&&{transform:"rotate(180deg)"})),M=(0,t.ZP)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.dashed,b[`dashedColor${(0,r.Z)(c.color)}`]]}})(({ownerState:a,theme:b})=>{let c=K(b,a.color);return(0,m.Z)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===a.color&&{opacity:.3},{backgroundImage:`radial-gradient(${c} 0%, ${c} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},(0,p.iv)(D||(D=z`
    animation: ${0} 3s infinite linear;
  `),I)),N=(0,t.ZP)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.bar,b[`barColor${(0,r.Z)(c.color)}`],("indeterminate"===c.variant||"query"===c.variant)&&b.bar1Indeterminate,"determinate"===c.variant&&b.bar1Determinate,"buffer"===c.variant&&b.bar1Buffer]}})(({ownerState:a,theme:b})=>(0,m.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===a.color?"currentColor":(b.vars||b).palette[a.color].main},"determinate"===a.variant&&{transition:"transform .4s linear"},"buffer"===a.variant&&{zIndex:1,transition:"transform .4s linear"}),({ownerState:a})=>("indeterminate"===a.variant||"query"===a.variant)&&(0,p.iv)(E||(E=z`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),G)),O=(0,t.ZP)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.bar,b[`barColor${(0,r.Z)(c.color)}`],("indeterminate"===c.variant||"query"===c.variant)&&b.bar2Indeterminate,"buffer"===c.variant&&b.bar2Buffer]}})(({ownerState:a,theme:b})=>(0,m.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==a.variant&&{backgroundColor:"inherit"===a.color?"currentColor":(b.vars||b).palette[a.color].main},"inherit"===a.color&&{opacity:.3},"buffer"===a.variant&&{backgroundColor:K(b,a.color),transition:"transform .4s linear"}),({ownerState:a})=>("indeterminate"===a.variant||"query"===a.variant)&&(0,p.iv)(F||(F=z`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),H)),P=i.forwardRef(function(a,b){let c=(0,u.Z)({props:a,name:"MuiLinearProgress"}),{className:d,color:e="primary",value:f,valueBuffer:g,variant:i="indeterminate"}=c,j=(0,l.Z)(c,y),k=(0,m.Z)({},c,{color:e,variant:i}),o=J(k),p=(0,s.Z)(),q={},r={bar1:{},bar2:{}};if(("determinate"===i||"buffer"===i)&& void 0!==f){q["aria-valuenow"]=Math.round(f),q["aria-valuemin"]=0,q["aria-valuemax"]=100;let t=f-100;"rtl"===p.direction&&(t=-t),r.bar1.transform=`translateX(${t}%)`}if("buffer"===i&& void 0!==g){let v=(g||0)-100;"rtl"===p.direction&&(v=-v),r.bar2.transform=`translateX(${v}%)`}return(0,h.jsxs)(L,(0,m.Z)({className:(0,n.Z)(o.root,d),ownerState:k,role:"progressbar"},q,{ref:b},j,{children:["buffer"===i?(0,h.jsx)(M,{className:o.dashed,ownerState:k}):null,(0,h.jsx)(N,{className:o.bar1,ownerState:k,style:r.bar1}),"determinate"===i?null:(0,h.jsx)(O,{className:o.bar2,ownerState:k,style:r.bar2})]}))});var Q,R=P,S=c(6855),T=c(6343),U=c(6779),V=c.n(U),W=function(a){var b=a.useProps,c=function(a){var b=a%j.size;return[(a-b)/j.size,b]},d=(0,g.Z)(b.usePlots,2),j=d[0];d[1];var l=(0,g.Z)(b.useSolver,2),m=l[0];l[1];var n=(0,g.Z)(b.useResult,2),o=n[0],p=n[1],q=(0,i.useState)(),r=q[0],s=q[1],t=(0,i.useState)(),u=t[0],v=t[1],w=(0,i.useState)(),x=w[0],y=w[1],z=(0,i.useState)(0),A=z[0],B=z[1],C=(0,i.useState)(0),D=C[0],E=C[1],F=(0,i.useState)(null),G=F[0],H=F[1],I=(0,i.useState)(null),J=I[0],K=I[1],L=(0,i.useState)(null),M=L[0],N=L[1],O=(0,i.useRef)(null),P=(0,i.useRef)(null),Q=(0,i.useRef)(null);return(0,i.useEffect)(function(){var a=O.current,b=P.current,c=Q.current;a&&b&&(H(a.getContext("2d")),K(b.getContext("2d")),N(c.getContext("2d")))},[]),(0,i.useEffect)(function(){v(null),y(null),E(0),p((0,f.Z)((0,e.Z)({},o),{minCost:2e9})),B(0),(0,S.ZP)().then(function(){var a=S.kJ.new(j.numPlots,j.seed,j.size);a.build(),s(a)})},[j.seed,j.numPlots,m.solver]),(0,i.useEffect)(function(){null!==G&&r&&(console.log("len:",r.get_nodes().length),G.clearRect(0,0,j.size,j.size),null==J||J.clearRect(0,0,j.size,j.size),null==M||M.clearRect(0,0,j.size,j.size),r.get_nodes().forEach(function(a){var b=(0,g.Z)(c(a),2),d=b[0],e=b[1];G.strokeStyle="white",G.lineWidth=7,G.beginPath(),G.arc(d,e,30,0,360,!1),G.stroke()}),G.save())},[G,r]),(0,i.useEffect)(function(){if(r){var a=performance.now();if("brute-force"===m.solver){console.log("brute force running!");var b=r.solve_bf();v(b),y(r.get_costs())}else if("bitDP"===m.solver){console.log("bitDP running!");var b=r.solve_dp();v(b),y(r.get_costs())}var c=performance.now();console.log("time: ",c-a)}},[m.solver]),(0,T.Z)(function(){if(u&&x&&J&&M){if(A<u.length){var a=x[A/j.numPlots];if(a<o.minCost){p((0,f.Z)((0,e.Z)({},o),{minCost:a})),null==M||M.clearRect(0,0,j.size,j.size),M.strokeStyle="#4747eb",M.lineWidth=12,M.beginPath();for(var b=A;b<A+j.numPlots;b++){var d,h,i=(0,g.Z)(c(u[b]),2),k=i[0],l=i[1],m=0,n=0;b+1==A+j.numPlots?(m=(d=(0,g.Z)(c(u[A]),2))[0],n=d[1]):(m=(h=(0,g.Z)(c(u[b+1]),2))[0],n=h[1]),M.moveTo(k,l),M.lineTo(m,n)}M.stroke()}null==J||J.clearRect(0,0,j.size,j.size),J.strokeStyle="#EB4747",J.lineWidth=7,J.beginPath();for(var q=A;q<A+j.numPlots;q++){var r,s,t=(0,g.Z)(c(u[q]),2),v=t[0],w=t[1],y=0,z=0;q+1==A+j.numPlots?(y=(r=(0,g.Z)(c(u[A]),2))[0],z=r[1]):(y=(s=(0,g.Z)(c(u[q+1]),2))[0],z=s[1]),J.moveTo(v,w),J.lineTo(y,z)}J.stroke(),B(A+j.numPlots),E(100*A/u.length)}else A==u.length&&(null==J||J.clearRect(0,0,j.size,j.size),E(100))}},50),(0,h.jsxs)(k.Z,{sx:{height:{xs:"60vw",sm:"50vw",md:"40vw",lg:"400px"}},children:[(0,h.jsxs)("div",{className:V().canvas_wrap,children:[(0,h.jsx)("canvas",{ref:O,width:j.size,height:j.size,className:V().canvas}),(0,h.jsx)("canvas",{ref:P,width:j.size,height:j.size,className:V().canvas}),(0,h.jsx)("canvas",{ref:Q,width:j.size,height:j.size,className:V().canvas})]}),(0,h.jsx)(R,{variant:"determinate",color:"inherit",value:D})]})},X=W,Y=c(2280),Z=c(8895),$=c(3508),_=c(2797),aa=c(6420),ab=c(3454),ac=c(5468),ad=c(6447);(Q=d||(d={}))[Q.numPlotsSmall=6]="numPlotsSmall",Q[Q.numPlotsMedium=18]="numPlotsMedium",Q[Q.numPlotsLarge=60]="numPlotsLarge";var ae=function(){var a={usePlots:(0,i.useState)({seed:Math.floor(100*Math.random()),size:2e3,numPlots:6}),useSolver:(0,i.useState)({solver:"None"}),useResult:(0,i.useState)({minCost:2e9,calculationTime:-1,status:""})};return(0,h.jsx)(j.Z,{pagename:"Traveling Salesman",field:ag(a),resultArea:ah(a),generator:ai(a),solver:aj(a)})},af=ae,ag=function(a){return(0,h.jsx)(X,{useProps:a})},ah=function(a){var b=(0,g.Z)(a.useResult,2),c=b[0];return b[1],(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{children:["Minimum Cost:"," ",2e9!==c.minCost?c.minCost.toFixed(2):"inf"]})})},ai=function(a){var b=(0,g.Z)(a.usePlots,2),c=b[0],d=b[1],i=(0,g.Z)(a.useSolver,2),j=i[0],k=i[1],l=(0,g.Z)(a.useResult,2);return l[0],l[1],(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(Y.Z,{sx:{m:1,bgcolor:"inherit"},children:[(0,h.jsx)(Z.Z,{expandIcon:(0,h.jsx)($.Z,{}),children:(0,h.jsx)(ac.Z,{type:"number",label:"seed",variant:"standard",size:"small",value:c.seed,onChange:function(a){d((0,f.Z)((0,e.Z)({},c),{seed:Number(a.target.value)})),k((0,f.Z)((0,e.Z)({},j),{solver:"None"}))}})}),(0,h.jsx)(_.Z,{children:(0,h.jsx)(ad.Z,{direction:"column",children:(0,h.jsxs)(ab.Z,{color:"primary",exclusive:!0,value:c.numPlots,onChange:function(a,b){null!==b&&(d((0,f.Z)((0,e.Z)({},c),{numPlots:b})),k((0,f.Z)((0,e.Z)({},j),{solver:"None"})))},size:"small",children:[(0,h.jsx)(aa.Z,{value:6,children:"Small"}),(0,h.jsx)(aa.Z,{value:18,children:"Medium"}),(0,h.jsx)(aa.Z,{value:60,children:"Large"})]})})})]})})},aj=function(a){var b=(0,g.Z)(a.usePlots,2),c=b[0];b[1];var d=(0,g.Z)(a.useSolver,2),i=d[0],j=d[1],k=(0,g.Z)(a.useResult,2);return k[0],k[1],(0,h.jsxs)(ab.Z,{color:"primary",value:i.solver,exclusive:!0,onChange:function(a,b){null!==b&&j((0,f.Z)((0,e.Z)({},i),{solver:b}))},size:"medium",orientation:"vertical",children:[(0,h.jsx)(aa.Z,{value:"brute-force",disabled:c.numPlots>10,children:"Brute Force"}),(0,h.jsx)(aa.Z,{value:"bitDP",disabled:c.numPlots>20,children:"Held-Karp (bit DP)"})]})}},6343:function(a,b,c){"use strict";var d=c(7294),e=function(a,b){var c=(0,d.useRef)(a);(0,d.useEffect)(function(){c.current=a},[a]),(0,d.useEffect)(function(){var a=setInterval(function(){c.current()},b);return function(){clearInterval(a)}})};b.Z=e},6779:function(a){a.exports={canvas_wrap:"style_canvas_wrap__vJMv7",canvas:"style_canvas__4EBFe"}}},function(a){a.O(0,[775,14,682,774,888,179],function(){var b;return a(a.s=8642)}),_N_E=a.O()}])